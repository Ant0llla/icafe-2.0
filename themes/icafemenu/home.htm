
<div class="home-container mb-5 flex-column h-50 flex-grow-1" :class="[vueGlobal.pageType != 'Home' ? 'd-none' : 'd-flex' ]">
	<div class="d-flex flex-row home-up-column h-50 pb-5 flex-shrink-1">
		<div class="bd-highlight rounded home-top5-games col-9 mr-5 d-flex align-items-center justify-content-around flex-shrink-1 container border-block">
			<div v-for="(game, index) in vueGames.topFiveItems" :key="game.pkg_id">
				<div class="game-image w-100">
					<span class="text-white game-heat"><i class="fal fa-star mr-1"></i>Top {{index + 1}}</span>	
					<img class="rounded" :src="ICAFEMENU_CORE.posters_path(game.pkg_id + '.jpg')" onerror="this.src='images/default-poster.png';" >
					<div class="overlay" style="background:rgba(17, 17, 17, 0.75);">
						<label class="text-center">{{game.pkg_name}}</label>
						<div class="btn-group d-flex justify-content-center align-items-center h-75 w-100">
							<button v-if="vueGames.type != 'license'" class="btn lang" @click="theGameList.play_game(game.pkg_id, thePCStatus.status_pc_token, 0, '')" data-toggle="tooltip" data-placement="bottom" title="Play">
								<i class="fal fa-play fa-2x"></i>
							</button>
							<button v-if="(game.pkg_game_type >= 1 && game.pkg_has_license > 0) || theGameList.deliver_password_for_games.includes(game.pkg_game_type.toString())" class="btn ml-2 lang" @click="theGameList.request_game_licenses(game.pkg_id, 'btn-home-play-with-license-' + game.pkg_id)" data-toggle="tooltip" data-placement="bottom" :id="'btn-home-play-with-license-' + game.pkg_id" title="Free to play">
								<i class="fal fa-paper-plane fa-2x"></i>
							</button>
						</div>
					</div>
				</div>
				<label v-if="(theSettings.name_show_client ?? 0) == 1" class="text-white text-center mt-2" style="max-width: 168px;">{{game.pkg_name}}</label>
			</div>
		</div>
		<div class="bd-highlight rounded p-4 col-3 border-block">
			<div class="container d-flex flex-column h-100">
				<div class="row text-white">
					<div class="col-md-3 p-2">
						<img src="images/default-avatar.png" class="cafe_info_member_logo p-0 border-0 rounded-circle" style="aspect-ratio: 1/1;" onerror="this.src='images/default-avatar.png';">
					</div>
					<div class="col-md-9 p-2 normal-only ">
						<div class="text-truncate font-size-5">
							<label class="name text-uppercase font-size-5" id="member_info_name">{{memberInfo.member_info_name}}</label>
						</div>
						<div class="member_balance_realtime normal-only font-size-4 pt-2 d-flex align-items-center">
							<i class="fal fa-wallet fa-fw mr-1 lang" data-toggle="tooltip" data-placement="bottom" title="Balance"></i>
							<label class="value mw-100">
								{{memberInfo.member_balance_realtime}}
							</label>
							
							<div style="margin-left: 40px;"><i class="fa-solid fa-rotate lang" data-toggle="tooltip" data-placement="bottom" title="Refresh" onclick="javascript:refreshBalanceInfo()" style="cursor: pointer;"></i></div>
						</div>
						<div class="member_balance_bonus_realtime normal-only font-size-4 pt-2 d-flex align-items-center">
							<i class="fal fa-fw fa-award fa-fw mr-1 lang" data-toggle="tooltip" data-placement="bottom" title="Bonus"></i>
							<label class="value mw-100">
								{{memberInfo.member_balance_bonus_realtime}}
							</label>
						</div>
						<div class="member_coin_balance normal-only font-size-4 pt-2 d-flex align-items-center">
							<i class="fal fa-gamepad fa-fw mr-1 lang" data-toggle="tooltip" data-placement="bottom" title="Coins"></i>
							<label class="value mw-100">
								{{memberInfo.member_coin_balance}}
							</label>
						</div>
						<div v-if="memberInfo.price_per_hour" class="normal-only font-size-4 pt-2 d-flex align-items-center">
							<i class="fal fa-barcode fa-fw mr-1 lang" data-toggle="tooltip" data-placement="bottom" title="Price"></i>
							<span class="currency">{{theSettings.currency ?? '$'}}</span> <label>{{memberInfo.price_per_hour}}</label><span>/H</span>
						</div>
					</div>
				</div>

				<div id="offers_div" class="row text-white text-center justify-content-md-center " style="margin-top:auto;">

					<div v-for="(item, index) in vueHome.memberGroup" 
						:class="['member-group', item.mebmer_group_index == vueHome.memberCurrentGroup ? 'col-md-2 member-current-group' : 'col-md-3', vueHome.memberGroup.length == 1 ? 'group-left group-right' : (index == 0 ? 'group-left' : (index == vueHome.memberGroup.length - 1 ? 'group-right' : ''))]"
						class="pl-0 pr-0">
						{{item.mebmer_group_index}}
					</div>
					<div v-if="vueHome.memberGroup.length > 0" class="col-md-12 pl-0 pr-0 mt-2 mb-2" >
						{{vueHome.memberPointValue}}
					</div>

					<div v-if="vueAvailableOffers.items.length > 0" id="carousel_main" class="carousel slide row normal-only w-100 h-100" data-ride="carousel" data-interval="false" >
						<div  class="carousel-inner h-100">
							<div v-for="item in vueAvailableOffers.items" :class="'carousel-item item ' + item.active" :id="'available-' + item.id">
								<div class="col-md-8 pl-0 pr-0 progress" style="position:relative; margin: 0 auto;padding-top:1px;height: 1.7rem; background-color: #395A2A;border:1px solid #ffffff;border-radius: 5px;" >
									<div class="progress-bar progress-bar-animated" role="progressbar" style="width:0%; background-color:#43AE1D;"  aria-valuemin="0" aria-valuemax="100" ></div>
									<span class="remaining" style="position:absolute; left:37%;height: 1.6rem;line-height: 1.6rem;">02:34:56</span>
								</div>
								<div class="col-md-12 pl-0 pr-0 mt-2 mb-2" >
									{{item.name}}
								</div>
							</div>
						</div>

						<div v-if="vueAvailableOffers.items.length > 1">
							<button class="carousel-control-prev c-pointer border-0" type="button" data-target="#carousel_main" data-slide="prev" style="top:4%; bottom:auto;background: none;">
								<span class="carousel-control-prev-icon" aria-hidden="true"></span>
							</button>
							<button class="carousel-control-next c-pointer border-0" type="button" data-target="#carousel_main" data-slide="next" style="top:4%; bottom:auto;background: none;">
								<span class="carousel-control-next-icon" aria-hidden="true"></span>
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="d-flex flex-row home-down-column h-50 border-1">
		<div class="d-flex flex-row col-9 mr-5 px-0 flex-shrink-1">
			<div  class="bd-highlight rounded text-white home-news col-12 mr-5 py-4  flex-shrink-1 border-block">
				<div v-if="vueCafeNews.items.length > 0" id="home_carousel_news" class="carousel carousel-spotlight slide carousel-fade fl-scn mb-0" data-ride="carousel">
					<ol v-if="vueCafeNews.items.length > 1" class="carousel-indicators">
						<li v-for="(item, index) in vueCafeNews.items" data-target="#home_carousel_news" :data-slide-to="index" :class="item.active"></li>
					</ol>
					<div class="carousel-inner h-100">
						<div v-for="item in vueCafeNews.items" :key="item.news_id" class="carousel-item item" :class="item.active" :data-bs-interval="item.news_duration">
							<img v-if="!item.news_video" class="h-100 c-pointer m-auto" :src="ICAFEMENU_CORE.posters_path('ns-'+item.news_id + '.jpg')" onerror="this.src='images/default-news.jpg'" :alt="item.news_name" @click="open_news(item.news_id)" />

							<div v-else class="h-100 m-auto">
								<div v-if="item.isYoutube" class="h-100 video-box align-middle embed-responsive">
									<iframe :src="item.news_video" id="newsYoutubeVideo" class="embed-responsive-item" allow="autoplay" @click="open_news(item.news_id)" allowfullscreen></iframe>
								</div>
								<div v-else class="h-100 m-auto">
									<video class="video-box h-100 c-pointer" autoplay muted loop  @click="open_news(item.news_id)">
										<source :src="item.news_video" type="video/webm" id="newsUrlVideo">
									</video>
								</div>
							</div>
							<div v-show="item.news_show_qr" @click="handleQRClick(item.news_id)" style="cursor: pointer;"
								v-effect="new QRCode(document.querySelector('.news-qr-box-'+ item.news_id), item.news_url);"
								:class="'news-qr news-qr-box-' + item.news_id">
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="bd-highlight rounded p-4 text-white home-leaderboard col-4 mr-0 container border-block" v-if="theSettings.license_start_game_tracker ?? 0">
				<div class="px-8 h-100 ranking-div d-flex flex-column" v-if="vueHome.leaderboardItems">
					<h4 class="text-center text-uppercase font-size-5 pb-3 lang" id="current-month-name">Last 30 days</h4>
					<div class="d-flex flex-column justify-content-between h-100 flex-shrink-1">
						<div class="d-flex">
							<div class="col-4 text-center"><label class="lang text-light font-weight-bold">RANK</label></div>
							<div class="col-4 text-center"><label class="lang text-light font-weight-bold">PLAYER</label></div>
							<div class="col-4 text-right"><label class="lang text-light font-weight-bold">SCORE</label></div>
						</div>
						<div class="d-flex" v-for="n in vueHome.leaderboardItems.current_month.length">
							<div class="col-4 text-center"><label :class="[vueHome.leaderboardItems.current_month[n-1].track_member_account == 'ME' ? 'text-warning' : 'text-light']">
							{{vueHome.leaderboardItems.current_month[n-1].rank}}</label></div>
							<div class="col-4 text-center"><label class="text-light">{{vueHome.leaderboardItems.current_month[n-1].track_member_account}}</label></div>
							<div class="col-4 text-right"><label class="text-light">{{parseInt(vueHome.leaderboardItems.current_month[n-1].track_game_coins + 0)}}</label></div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="bd-highlight rounded position-relative p-4 text-white home-promoted col-3 d-flex flex-column border-block">
			<div class="text-center  font-size-5" >PROMOTIONS</div>
			<hr class="mt-0 mb-3 bg-white w-50">
			<div v-if="vueHome.promotedItems.length > 0" id="home_carousel_promoted" class="carousel carousel-spotlight slide h-100 flex-shrink-1 mb-0" data-ride="carousel" data-interval="false">
				<ol v-if="vueHome.promotedItems.length > 1" class="carousel-indicators">
					<li v-for="(item, outIndex) in vueHome.promotedItems" data-target="#home_carousel_promoted" :data-slide-to="outIndex" :class="[outIndex == vueHome.promotedActive ? 'active' : '']"></li>
				</ol>
				<div  class="carousel-inner h-100 p-0">
					<div v-for="(items, outIndex) in vueHome.promotedItems" class="carousel-item item flex-wrap justify-content-around align-content-around" :class="[outIndex == vueHome.promotedActive ? 'active' : '']" >
						<div v-for="(goods, inIndex) in items" class="h-50 w-50 p-3">
							<div class="position-relative promoted-product c-pointer w-100 h-100" :style="{'background-image': 'url(' + goods.image + ')'}" 
							style="background-repeat: no-repeat; background-position: center; background-size: cover;">
								<div class="overlay" style="background:rgba(17, 17, 17, 0.75);">
									<div class="btn-group d-flex flex-column justify-content-center w-100 h-100 text-center">
										<div class="w-100">
											<p class="text-white">
												<label class="">{{goods.product_name}}</label>
												<label class="font-weight-bold w-100 d-inline-block" v-if="vueProductGroupList.current_group_id == -2" >{{formatNumber(goods.product_coin_price)}} {{translate_string('coin')}}</label>
												<label class="font-weight-bold w-100 d-inline-block" v-else>{{theSettings.currency ?? '$'}} {{formatNumber(goods.product_price)}}</label>
											</p>
										</div>
										<button class="py-0 mx-3 btn btn-sm lang" @click="theShop.buy(goods.product_id, 1)">
											<i class="fal fa-cart-plus fa-2x"></i>
										</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>